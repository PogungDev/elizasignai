{
  "_format": "hh-sol-artifact-1",
  "contractName": "VaultGuardOracle",
  "sourceName": "contracts/VaultGuardOracle.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "agent",
          "type": "address"
        }
      ],
      "name": "AgentAuthorized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newCollateral",
          "type": "uint256"
        }
      ],
      "name": "AutoRebalance",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "currentLTV",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "threshold",
          "type": "uint256"
        }
      ],
      "name": "LiquidationWarning",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isAbove",
          "type": "bool"
        }
      ],
      "name": "PriceAlertTriggered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "collateral",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "debt",
          "type": "uint256"
        }
      ],
      "name": "VaultCreated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "LIQUIDATION_BUFFER",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_agent",
          "type": "address"
        }
      ],
      "name": "authorizeAgent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "authorizedAgents",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        }
      ],
      "name": "calculateLTV",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        }
      ],
      "name": "checkLiquidationRisk",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_collateralAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_debtAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_liquidationThreshold",
          "type": "uint256"
        }
      ],
      "name": "createVault",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLatestPrice",
      "outputs": [
        {
          "internalType": "int256",
          "name": "",
          "type": "int256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        }
      ],
      "name": "getVaultInfo",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "collateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "debt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "ltv",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "threshold",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "lastUpdate",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "mockPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "priceAlerts",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "targetPrice",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isAbove",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "isTriggered",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_price",
          "type": "uint256"
        }
      ],
      "name": "setMockPrice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_targetPrice",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "_isAbove",
          "type": "bool"
        }
      ],
      "name": "setPriceAlert",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_collateralAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_debtAmount",
          "type": "uint256"
        }
      ],
      "name": "updateVault",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_vault",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_score",
          "type": "uint256"
        }
      ],
      "name": "updateVaultScore",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "vaultOwners",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "vaultScores",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "vaults",
      "outputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "collateralAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "debtAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "liquidationThreshold",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "lastUpdateTime",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052642e90edd00060065534801561001957600080fd5b50600580546001600160a01b031916339081179091556000908152600360205260409020805460ff19166001179055610b58806100576000396000f3fe608060405234801561001057600080fd5b50600436106101165760003560e01c80638da5cb5b116100a2578063c7207e7411610071578063c7207e7414610381578063d70e3ed31461038a578063efd760651461039d578063feca9cc0146103d0578063ff5d4efb146103e357600080fd5b80638da5cb5b146102725780638e15f4731461029d57806390229af7146102b3578063a622ee7c146102f557600080fd5b80632ac0cdab116100e95780632ac0cdab146101935780636d88b24d14610223578063738006791461023657806383da2a3c146102565780638b60a3ee1461025f57600080fd5b8063067423071461011b578063137a9acb1461013057806316b0819e146101565780632910b22d14610180575b600080fd5b61012e6101293660046109af565b61041c565b005b61014361013e3660046109d9565b6104b3565b6040519081526020015b60405180910390f35b6101696101643660046109d9565b610573565b60408051921515835260208301919091520161014d565b61012e61018e3660046109fb565b610606565b61012e6101a1366004610a27565b336000908152600260208181526040808420815160808101835296875294151586830190815290860184815242606088019081528654600181810189559787529390952096516003909302909601918255519381018054955115156101000261ff00199515159590951661ffff19909616959095179390931790935551910155565b61012e6102313660046109d9565b61075f565b6101436102443660046109d9565b60016020526000908152604090205481565b6101436101f481565b61012e61026d366004610a5c565b6107d5565b600554610285906001600160a01b031681565b6040516001600160a01b03909116815260200161014d565b600654604080519182524260208301520161014d565b6102c66102c13660046109d9565b61084f565b6040805196875260208701959095529385019290925260608401521515608083015260a082015260c00161014d565b6103486103033660046109d9565b6000602081905290815260409020805460018201546002830154600384015460048501546005909501546001600160a01b039094169492939192909160ff9091169086565b604080516001600160a01b03909716875260208701959095529385019290925260608401521515608083015260a082015260c00161014d565b61014360065481565b610285610398366004610a7e565b6108ea565b6103c06103ab3660046109d9565b60036020526000908152604090205460ff1681565b604051901515815260200161014d565b61012e6103de366004610a7e565b610914565b6103f66103f13660046109af565b610943565b60408051948552921515602085015290151591830191909152606082015260800161014d565b6005546001600160a01b0316331461044f5760405162461bcd60e51b815260040161044690610a97565b60405180910390fd5b60648111156104975760405162461bcd60e51b8152602060048201526014602482015273053636f7265206d757374206265203c3d203130360641b6044820152606401610446565b6001600160a01b03909116600090815260016020526040902055565b6001600160a01b03808216600090815260208181526040808320815160c08101835281549095168552600181015492850183905260028101549185019190915260038101546060850152600481015460ff16151560808501526005015460a084015290919082036105275750600092915050565b60065460006305f5e1008284602001516105419190610ad0565b61054b9190610aed565b90508083604001516127106105609190610ad0565b61056a9190610aed565b95945050505050565b6000806000610581846104b3565b6001600160a01b03808616600090815260208181526040808320815160c08101835281549095168552600181015492850192909252600282015490840152600381015460608401819052600482015460ff161515608085015260059091015460a084015292935090916105f7906101f490610b0f565b83101596929550919350505050565b61138881118015610618575061251c81105b6106585760405162461bcd60e51b8152602060048201526011602482015270125b9d985b1a59081d1a1c995cda1bdb19607a1b6044820152606401610446565b6040805160c081018252338082526020808301878152838501878152606085018781526001608087018181524260a0890190815260008881528088528a812099518a546001600160a01b039091166001600160a01b0319918216178b5596518a850155945160028a015592516003890155516004808901805492151560ff199093169290921790915591516005909701969096558054958601815590527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b909301805490931682179092558251868152918201859052917f482cfbeb47f8c37dbc7f6d858203153f1728e4ea8f3343f4a3ffc6e7a6157134910160405180910390a2505050565b6005546001600160a01b031633146107895760405162461bcd60e51b815260040161044690610a97565b6001600160a01b038116600081815260036020526040808220805460ff19166001179055517f26e663c48c070d2d3c2bf6bcf88dc0a1e3ae99c58c36411130bed5924cf952669190a250565b3360009081526020819052604090206004015460ff1661082a5760405162461bcd60e51b815260206004820152601060248201526f5661756c74206e6f742061637469766560801b6044820152606401610446565b3360009081526020819052604090206001810192909255600282015542600590910155565b6001600160a01b03808216600090815260208181526040808320815160c081018352815490951685526001810154928501839052600281015491850182905260038101546060860152600481015460ff16151560808601526005015460a0850152919283928392839283928392906108c68a6104b3565b6060840151608085015160a090950151939c929b5090995097509195509350915050565b600481815481106108fa57600080fd5b6000918252602090912001546001600160a01b0316905081565b6005546001600160a01b0316331461093e5760405162461bcd60e51b815260040161044690610a97565b600655565b6002602052816000526040600020818154811061095f57600080fd5b600091825260209091206003909102018054600182015460029092015490935060ff80831693506101009092049091169084565b80356001600160a01b03811681146109aa57600080fd5b919050565b600080604083850312156109c257600080fd5b6109cb83610993565b946020939093013593505050565b6000602082840312156109eb57600080fd5b6109f482610993565b9392505050565b600080600060608486031215610a1057600080fd5b505081359360208301359350604090920135919050565b60008060408385031215610a3a57600080fd5b8235915060208301358015158114610a5157600080fd5b809150509250929050565b60008060408385031215610a6f57600080fd5b50508035926020909101359150565b600060208284031215610a9057600080fd5b5035919050565b6020808252600990820152682737ba1037bbb732b960b91b604082015260600190565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610ae757610ae7610aba565b92915050565b600082610b0a57634e487b7160e01b600052601260045260246000fd5b500490565b81810381811115610ae757610ae7610aba56fea26469706673582212203dd441ca15df8336e0017e55b68a53d4b02d01b94502dc0e7bcd8b133ba2951d64736f6c63430008180033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106101165760003560e01c80638da5cb5b116100a2578063c7207e7411610071578063c7207e7414610381578063d70e3ed31461038a578063efd760651461039d578063feca9cc0146103d0578063ff5d4efb146103e357600080fd5b80638da5cb5b146102725780638e15f4731461029d57806390229af7146102b3578063a622ee7c146102f557600080fd5b80632ac0cdab116100e95780632ac0cdab146101935780636d88b24d14610223578063738006791461023657806383da2a3c146102565780638b60a3ee1461025f57600080fd5b8063067423071461011b578063137a9acb1461013057806316b0819e146101565780632910b22d14610180575b600080fd5b61012e6101293660046109af565b61041c565b005b61014361013e3660046109d9565b6104b3565b6040519081526020015b60405180910390f35b6101696101643660046109d9565b610573565b60408051921515835260208301919091520161014d565b61012e61018e3660046109fb565b610606565b61012e6101a1366004610a27565b336000908152600260208181526040808420815160808101835296875294151586830190815290860184815242606088019081528654600181810189559787529390952096516003909302909601918255519381018054955115156101000261ff00199515159590951661ffff19909616959095179390931790935551910155565b61012e6102313660046109d9565b61075f565b6101436102443660046109d9565b60016020526000908152604090205481565b6101436101f481565b61012e61026d366004610a5c565b6107d5565b600554610285906001600160a01b031681565b6040516001600160a01b03909116815260200161014d565b600654604080519182524260208301520161014d565b6102c66102c13660046109d9565b61084f565b6040805196875260208701959095529385019290925260608401521515608083015260a082015260c00161014d565b6103486103033660046109d9565b6000602081905290815260409020805460018201546002830154600384015460048501546005909501546001600160a01b039094169492939192909160ff9091169086565b604080516001600160a01b03909716875260208701959095529385019290925260608401521515608083015260a082015260c00161014d565b61014360065481565b610285610398366004610a7e565b6108ea565b6103c06103ab3660046109d9565b60036020526000908152604090205460ff1681565b604051901515815260200161014d565b61012e6103de366004610a7e565b610914565b6103f66103f13660046109af565b610943565b60408051948552921515602085015290151591830191909152606082015260800161014d565b6005546001600160a01b0316331461044f5760405162461bcd60e51b815260040161044690610a97565b60405180910390fd5b60648111156104975760405162461bcd60e51b8152602060048201526014602482015273053636f7265206d757374206265203c3d203130360641b6044820152606401610446565b6001600160a01b03909116600090815260016020526040902055565b6001600160a01b03808216600090815260208181526040808320815160c08101835281549095168552600181015492850183905260028101549185019190915260038101546060850152600481015460ff16151560808501526005015460a084015290919082036105275750600092915050565b60065460006305f5e1008284602001516105419190610ad0565b61054b9190610aed565b90508083604001516127106105609190610ad0565b61056a9190610aed565b95945050505050565b6000806000610581846104b3565b6001600160a01b03808616600090815260208181526040808320815160c08101835281549095168552600181015492850192909252600282015490840152600381015460608401819052600482015460ff161515608085015260059091015460a084015292935090916105f7906101f490610b0f565b83101596929550919350505050565b61138881118015610618575061251c81105b6106585760405162461bcd60e51b8152602060048201526011602482015270125b9d985b1a59081d1a1c995cda1bdb19607a1b6044820152606401610446565b6040805160c081018252338082526020808301878152838501878152606085018781526001608087018181524260a0890190815260008881528088528a812099518a546001600160a01b039091166001600160a01b0319918216178b5596518a850155945160028a015592516003890155516004808901805492151560ff199093169290921790915591516005909701969096558054958601815590527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b909301805490931682179092558251868152918201859052917f482cfbeb47f8c37dbc7f6d858203153f1728e4ea8f3343f4a3ffc6e7a6157134910160405180910390a2505050565b6005546001600160a01b031633146107895760405162461bcd60e51b815260040161044690610a97565b6001600160a01b038116600081815260036020526040808220805460ff19166001179055517f26e663c48c070d2d3c2bf6bcf88dc0a1e3ae99c58c36411130bed5924cf952669190a250565b3360009081526020819052604090206004015460ff1661082a5760405162461bcd60e51b815260206004820152601060248201526f5661756c74206e6f742061637469766560801b6044820152606401610446565b3360009081526020819052604090206001810192909255600282015542600590910155565b6001600160a01b03808216600090815260208181526040808320815160c081018352815490951685526001810154928501839052600281015491850182905260038101546060860152600481015460ff16151560808601526005015460a0850152919283928392839283928392906108c68a6104b3565b6060840151608085015160a090950151939c929b5090995097509195509350915050565b600481815481106108fa57600080fd5b6000918252602090912001546001600160a01b0316905081565b6005546001600160a01b0316331461093e5760405162461bcd60e51b815260040161044690610a97565b600655565b6002602052816000526040600020818154811061095f57600080fd5b600091825260209091206003909102018054600182015460029092015490935060ff80831693506101009092049091169084565b80356001600160a01b03811681146109aa57600080fd5b919050565b600080604083850312156109c257600080fd5b6109cb83610993565b946020939093013593505050565b6000602082840312156109eb57600080fd5b6109f482610993565b9392505050565b600080600060608486031215610a1057600080fd5b505081359360208301359350604090920135919050565b60008060408385031215610a3a57600080fd5b8235915060208301358015158114610a5157600080fd5b809150509250929050565b60008060408385031215610a6f57600080fd5b50508035926020909101359150565b600060208284031215610a9057600080fd5b5035919050565b6020808252600990820152682737ba1037bbb732b960b91b604082015260600190565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610ae757610ae7610aba565b92915050565b600082610b0a57634e487b7160e01b600052601260045260246000fd5b500490565b81810381811115610ae757610ae7610aba56fea26469706673582212203dd441ca15df8336e0017e55b68a53d4b02d01b94502dc0e7bcd8b133ba2951d64736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
